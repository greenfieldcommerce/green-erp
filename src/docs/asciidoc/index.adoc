= GreenERP API Documentation
Diego Reidel
:operation-curl-request-title: Example request
:operation-httpie-request-title: Example request
:operation-http-response-title: Example response
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 4
:sectlinks:

[[overview]]
= Overview

[[overview_http_verbs]]
== HTTP verbs

The GreenERP API tries to adhere as closely as possible to standard HTTP and REST conventions in its use of HTTP verbs.

|===
| Verb | Usage

| `GET`
| Used to retrieve a resource

| `POST`
| Used to create a new resource

| `PATCH`
| Used to update an existing resource, including partial updates

| `DELETE`
| Used to delete an existing resource
|===

[[overview_http_status_codes]]
== HTTP status codes

The GreenERP API tries to adhere as closely as possible to standard HTTP and REST conventions in its use of HTTP status codes.

|===
| Status code | Usage

| `200 OK`
| The request completed successfully

| `201 Created`
| A new resource has been created successfully. The resource's URI is available from the response's
`Location` header

| `204 No Content`
| An update to an existing resource has been applied successfully

| `400 Bad Request`
| The request was malformed. The response body will include an error description providing further information

| `404 Not Found`
| The requested resource did not exist

| `422 Unprocessable Entity`
| The application understood the content of the request content, and the syntax of the request content was correct, but it was unable to process the contained instructions. The response body will include an error description providing further information
|===

[[overview_errors]]
== Errors

Whenever an error response (status code >= 400) is returned, the body will contain a JSON object
that describes the problem. The error object has the following structure:

include::{snippets}/error-example/response-fields.adoc[]

For example, a request that attempts to retrieve data on a non-existent contractor will produce a `404 Not Found` response:

include::{snippets}/error-example/http-response.adoc[]

[[overview_hypermedia]]
== Hypermedia

The GreenERP API uses hypermedia and resources include links to other resources in their
responses. Responses are in https://github.com/mikekelly/hal_specification[Hypertext
Application Language (HAL)] format. Links can be found beneath the `_links` key. Users of
the API should not create URIs themselves, instead they should use the above-described
links to navigate from resource to resource.

[[resources]]
= Resources

[[resources_contractors]]
== Contractors

The Contractors resource is used to list and create contractors

[[resources_contractors_links]]
=== Links

include::{snippets}/listing-contractors/links.adoc[]

=== Listing contractors

A `GET` request will list all the contractors.

operation::listing-contractors[snippets='http-request,request-headers,response-fields,http-response']

=== Creating a contractor
A `POST` request is used to create a contractor.

operation::creating-a-contractor[snippets='http-request,request-headers,request-fields,response-headers,http-response']

[[resources_contractor]]
== Contractor
The Contractor resource is used to retrieve and update a specific contractor.

[[resources_contractor_links]]
=== Links

include::{snippets}/detailing-contractor/links.adoc[]

=== Retrieving a contractor
A `GET` request will retrieve a specific contractor.

operation::detailing-contractor[snippets='http-request,request-headers,path-parameters,response-fields,http-response']

=== Updating a contractor
A `PATCH` request will update the data for a specific contractor.

operation::updating-a-contractor[snippets='http-request,request-headers,path-parameters,http-response']



[[resources_rates]]
== Rates

The Rates resource is used to list and create contractor rates

[[resources_rates_links]]
=== Links

include::{snippets}/listing-contractor-rates/links.adoc[]

=== Listing contractor rates

A `GET` request will list all the rates associated with a contractor.

operation::listing-contractor-rates[snippets='http-request,request-headers,path-parameters,response-fields,http-response']

=== Creating a contractor rate
A `POST` request is used to create a contractor rate.

operation::creating-a-rate[snippets='http-request,request-headers,path-parameters,request-fields,response-headers,http-response']

[[resources_rate]]
== Rate
The Rate resource is used to retrieve, update, and delete a specific contractor's rate.

[[resources_rate_links]]
=== Links

include::{snippets}/detailing-a-rate/links.adoc[]

=== Retrieving a contractor rate
A `GET` request will retrieve a specific contractor's rate.

operation::detailing-a-rate[snippets='http-request,request-headers,path-parameters,response-fields,http-response']


=== Updating a contractor rate
A `PATCH` request will update the data for a specific contractor's rate.

operation::updating-a-rate[snippets='http-request,request-headers,path-parameters,request-fields,http-response']

=== Deleting a contractor rate
A `DELETE` request will delete a specific contractor's rate.

operation::deleting-a-rate[snippets='http-request,request-headers,path-parameters,http-response']

[[resources_invoices]]
== Invoices

The Invoices resource is used to create an invoice

=== Creating an invoice
A `POST` request is used to create an invoice.

operation::creating-an-invoice[snippets='http-request,request-headers,path-parameters,request-fields,response-headers,http-response']

[[resources_invoice]]
== Current Invoice
The Current Invoice resource is used to retrieve and update the current invoice for a contractor.

[[resources_invoice_links]]
=== Links

include::{snippets}/detailing-current-invoice/links.adoc[]

=== Detailing the current invoice
A `GET` request will retrieve the current invoice for a contractor.

operation::detailing-current-invoice[snippets='http-request,request-headers,path-parameters,response-fields,http-response']

=== Updating the current invoice
A `PATCH` request will update the current invoice for a contractor.

operation::updating-an-invoice[snippets='http-request,request-headers,path-parameters,request-fields,http-response']

